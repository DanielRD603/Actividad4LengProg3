@model IEnumerable<Actividad4LengProg3.Models.EstudianteViewModel>
@{ ViewData["Title"] = "Lista de Estudiantes"; }
<h2>@ViewData["Title"]</h2>
<div class="mb-3"><a asp-action="Index" asp-controller="Estudiantes" class="btn btn-success">Registrar nuevo</a></div>
@if (!Model.Any()) { <div class="alert alert-info">No hay estudiantes registrados.</div> }
else {
<div class="table-responsive">
<table class="table table-striped table-bordered align-middle">
  <thead class="table-light"><tr>
    <th>Matrícula</th><th>Nombre</th><th>Correo</th><th>Celular</th><th>Teléfono</th><th>Género</th><th>Turno</th><th>Recinto</th><th>Carrera</th><th>F. Nacimiento</th><th>Becado</th><th>% Beca</th><th style="width:160px">Acciones</th>
  </tr></thead>
  <tbody>
  @foreach (var e in Model) {
    <tr>
      <td>@e.Matricula</td>
      <td>@e.NombreCompleto</td>
      <td>@e.CorreoInstitucional</td>
      <td>@e.Celular</td>
      <td>@e.Telefono</td>
      <td>@e.Genero</td>
      <td>@e.Turno</td>
      <td>@e.Recinto</td>
      <td>@e.Carrera</td>
      <td>@e.FechaNacimiento.ToString("yyyy-MM-dd")</td>
      <td>@(e.Becado ? "Sí" : "No")</td>
      <td>@(e.Becado ? e.PorcentajeBeca : null)</td>
      <td>
        <a asp-action="Editar" asp-route-matricula="@e.Matricula" class="btn btn-sm btn-primary">Editar</a>
        <a asp-action="Eliminar" asp-route-matricula="@e.Matricula" class="btn btn-sm btn-danger" onclick="return confirm('¿Eliminar este estudiante?');">Eliminar</a>
      </td>
    </tr>
  }
  </tbody>
</table>
</div>
}
